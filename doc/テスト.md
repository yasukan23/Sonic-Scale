# テスト

テストを分類すると以下のようになります

- 単体テスト
- 結合テスト
- システムテスト
  - スクリプトテスト
  - 探索的テスト

単体テストと結合テストは設計・実装の一部です。ソフトウェアそのものの設計と同時にテスト設計を行います。

システムテストは、ソフトウェアの構造に依存せず、要求仕様書に基づいてテスト設計を行います。

## 単体テスト

単体テストは、ソフトウェアを構成する個々のコンポーネントが、意図した通りに動作するかどうかを検証するテストです。
単体テストでは、テスト対象のコンポーネントを他のコンポーネントから独立させ、単独で動作させます。
これにより、特定のコンポーネントに問題が発生した場合に、原因を特定しやすくなります。
単体テストでは、コンポーネント内の全てのロジックを網羅的にテストし、潜在的な不具合を早期に発見することが重要です。

## 結合テスト

結合テストはソフトウェアコンポーネントとソフトウェアコンポーネントの間のインターフェイスに注目します。
複数のコンポーネントを組み合わせてテストすることで、コンポーネント間の相互作用やデータの流れに潜む不具合を検出します。
コンポーネント間のインターフェース、データの受け渡し、例外処理など、コンポーネント間の連携部分を重点的にテストします。

結合テストは、単体テストをパスしたコンポーネントを対象に行います。
単体テストで個々のコンポーネントの動作が確認できているため、結合テストではコンポーネント間の連携に焦点を当てることができます。

## システムテスト

システムテストは大別してスクリプトテストと探索的テストの2種類があります。
スクリプトテストは、事前にテストケースを定義し、そのテストケースに基づいてテストを実行する方法です。一方、探索的テストは、テストケースを事前に定義せず、テスト担当者が自由にテストを実行する方法です。

### スクリプトテスト

スクリプトテストは、テストケースを事前に定義するため、テストの網羅性が高く、テスト結果の再現性が高いというメリットがあります。一方、テストケースの作成に時間がかかり、テスト担当者のスキルに依存するというデメリットがあります。

スクリプトテストでは、まず要求仕様書に基づいてテスト仕様書を作成します。そして、このテスト仕様書を基に、具体的なテストケースを設計します。
これによってトレーサビリティを確保し、要求仕様書に対するカバレッジを測定することができます。

#### リグレッションテスト

アジャイル開発では、テスト対象のソフトウェアが頻繁に更新されるため、一度パスしたテストケースが、その後の更新によって失敗する（デグレ）ことがあります。デグレを検出するために、テスト対象が更新されるたびに、同じテストを繰り返し実行するリグレッションテストを行います。

#### 自動テストによる効率化

リグレッションテストを効率的に行うために、スクリプトテストのテストケースは可能な限り自動化します。自動テストを導入することで、テスト工数を大幅に削減し、より頻繁にリグレッションテストを実施することが可能になります。

### 探索的テスト

探索的テストは、テストケースを事前に定義しないため、テストの自由度が高く、テスト担当者のスキルを活かせるというメリットがあります。一方、テストの網羅性が低く、テスト結果の再現性が低いというデメリットがあります。

実は、検出される不具合の多くが探索的テストの結果によるものです。
探索的テストでは、テスト担当者が自由にテストを実行するため、事前に想定していなかった不具合を発見できる可能性が高いためです。

### どちらを選択すべきか

スクリプトテストと探索的テストのどちらを選択すべきかは、テスト対象のソフトウェアの特性や、テストの目的によって異なります。

例えば、クリティカルなソフトウェアのテストや、法規制に対応する必要があるソフトウェアのテストでは、スクリプトテストを選択することが望ましいでしょう。一方、新しい機能のテストや、ユーザビリティテストなどでは、探索的テストを選択することが望ましいでしょう。

スクリプトテストで対象ソフトウェアを網羅的にテストしつつ、探索的テストで怪しいところを効率的にテストするのが基本的な戦略になります。

### テストケースの管理

スクリプトテストのテストケースは、テスト仕様書と合わせて事前に作成し、厳密にバージョン管理します。探索的テストはテストケースを事前に定義しませんが、実施したテストの内容は記録します。記録したテストの内容は、テスト仕様書の次バージョンに反映します。特に、不具合が検出されたテストケースは、重要なテストケースとして必ず反映するようにします。